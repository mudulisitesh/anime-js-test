<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Weather Display</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            font-family: Arial, sans-serif;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            overflow: hidden;
            perspective: 1000px;
        }

        .search-container {
            position: absolute;
            top: 2rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 100;
        }

        .search-input {
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            border: none;
            outline: none;
            width: 300px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            color: white;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .search-input:focus {
            background: rgba(255, 255, 255, 0.3);
            width: 320px;
        }

        .weather-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .weather-container:hover {
            transform: scale(1.02) translateY(-5px);
        }

        .temperature {
            font-size: 4rem;
            margin: 1rem 0;
            opacity: 0;
            position: relative;
        }

        .weather-icon {
            width: 100px;
            height: 100px;
            margin: 1rem auto;
            opacity: 0;
            transition: transform 0.3s ease;
        }

        .weather-icon:hover {
            transform: scale(1.2) rotate(10deg);
        }

        .weather-details {
            display: flex;
            justify-content: space-around;
            margin-top: 2rem;
            opacity: 0;
        }

        .detail {
            padding: 1rem;
            transition: transform 0.3s ease;
        }

        .detail:hover {
            transform: translateY(-5px);
        }

        .particles-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            pointer-events: none;
        }

        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: none;
        }

        .loading-circle {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top: 3px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-message {
            position: absolute;
            top: 5rem;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 0, 0, 0.2);
            padding: 1rem 2rem;
            border-radius: 10px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="particles-container"></div>
    <div class="search-container">
        <input type="text" class="search-input" placeholder="Enter city name...">
    </div>
    
    <div class="loading">
        <div class="loading-circle"></div>
    </div>

    <div class="error-message"></div>

    <div class="weather-container">
        <h2 class="location">Enter a location</h2>
        <div class="temperature">--°C</div>
        <div class="weather-icon">--</div>
        <div class="weather-description">--</div>
        <div class="weather-details">
            <div class="detail humidity">
                <h3>Humidity</h3>
                <p>--%</p>
            </div>
            <div class="detail wind">
                <h3>Wind</h3>
                <p>-- km/h</p>
            </div>
            <div class="detail feels-like">
                <h3>Feels Like</h3>
                <p>--°C</p>
            </div>
        </div>
    </div>

    <script>
        // API configuration
        const API_KEY = 'YOUR_OPENWEATHER_API_KEY'; // Replace with your API key
        const BASE_URL = 'https://api.openweathermap.org/data/2.5/weather';

        // DOM elements
        const searchInput = document.querySelector('.search-input');
        const weatherContainer = document.querySelector('.weather-container');
        const loading = document.querySelector('.loading');
        const errorMessage = document.querySelector('.error-message');

        // Mouse tracking for parallax effect
        let mouseX = 0;
        let mouseY = 0;

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;

            // Parallax effect for weather container
            const xAxis = (window.innerWidth / 2 - mouseX) / 25;
            const yAxis = (window.innerHeight / 2 - mouseY) / 25;
            weatherContainer.style.transform = `rotateY(${xAxis}deg) rotateX(${yAxis}deg)`;
        });

        // Particle system
        const createParticles = () => {
            const container = document.querySelector('.particles-container');
            const particleCount = 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('particle');
                
                // Random size between 2 and 5 pixels
                const size = Math.random() * 3 + 2;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                // Random position
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.top = `${Math.random() * 100}%`;
                
                container.appendChild(particle);

                // Animate particle
                anime({
                    targets: particle,
                    translateX: anime.random(-100, 100),
                    translateY: anime.random(-100, 100),
                    opacity: [0.5, 0],
                    duration: anime.random(3000, 5000),
                    loop: true,
                    direction: 'alternate',
                    easing: 'easeInOutQuad'
                });
            }
        };

        // Weather animations
        const animateWeatherIn = () => {
            anime({
                targets: '.weather-container',
                opacity: [0, 1],
                translateY: [20, 0],
                duration: 1000,
                easing: 'easeOutExpo'
            });

            anime({
                targets: '.temperature',
                opacity: [0, 1],
                scale: [0.5, 1],
                duration: 1000,
                delay: 300,
                easing: 'easeOutElastic(1, .5)'
            });

            anime({
                targets: '.weather-icon',
                opacity: [0, 1],
                rotate: '1turn',
                duration: 1500,
                delay: 500,
                easing: 'easeOutElastic(1, .5)'
            });

            anime({
                targets: '.weather-details',
                opacity: [0, 1],
                translateY: [20, 0],
                duration: 1000,
                delay: 700,
                easing: 'easeOutExpo'
            });
        };

        // Fetch weather data
        const fetchWeather = async (city) => {
            try {
                loading.style.display = 'block';
                errorMessage.style.display = 'none';
                
                const response = await fetch(
                    `${BASE_URL}?q=${city}&appid=${API_KEY}&units=metric`
                );
                
                if (!response.ok) throw new Error('City not found');
                
                const data = await response.json();
                updateWeather(data);
                animateWeatherIn();
            } catch (error) {
                errorMessage.textContent = error.message;
                errorMessage.style.display = 'block';
            } finally {
                loading.style.display = 'none';
            }
        };

        // Update weather display
        const updateWeather = (data) => {
            document.querySelector('.location').textContent = data.name;
            document.querySelector('.temperature').textContent = `${Math.round(data.main.temp)}°C`;
            document.querySelector('.weather-icon').textContent = getWeatherIcon(data.weather[0].main);
            document.querySelector('.weather-description').textContent = data.weather[0].description;
            document.querySelector('.humidity p').textContent = `${data.main.humidity}%`;
            document.querySelector('.wind p').textContent = `${Math.round(data.wind.speed)} km/h`;
            document.querySelector('.feels-like p').textContent = `${Math.round(data.main.feels_like)}°C`;

            // Update background gradient based on temperature
            const temp = data.main.temp;
            let gradientColors;
            if (temp < 0) {
                gradientColors = ['#1e3c72', '#2a5298']; // Cold
            } else if (temp < 15) {
                gradientColors = ['#4CA1AF', '#2C3E50']; // Cool
            } else if (temp < 25) {
                gradientColors = ['#FF512F', '#DD2476']; // Warm
            } else {
                gradientColors = ['#FF512F', '#F09819']; // Hot
            }

            anime({
                targets: 'body',
                background: `linear-gradient(135deg, ${gradientColors[0]}, ${gradientColors[1]})`,
                duration: 1000,
                easing: 'easeOutQuad'
            });
        };

        // Weather icon mapping
        const getWeatherIcon = (weather) => {
            const icons = {
                'Clear': '☀️',
                'Clouds': '☁️',
                'Rain': '🌧️',
                'Snow': '❄️',
                'Thunderstorm': '⛈️',
                'Drizzle': '🌦️',
                'Mist': '🌫️'
            };
            return icons[weather] || '🌈';
        };

        // Event listeners
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const city = searchInput.value.trim();
                if (city) fetchWeather(city);
            }
        });

        // Initialize particles
        createParticles();

        // Initial animation
        animateWeatherIn();
    </script>
</body>
</html>